<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Code Companion Sprite</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            font-family: 'Arial', sans-serif;
            height: 100vh;
            overflow: hidden;
        }
        .container {
            position: relative;
            width: 100%;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .sprite {
            width: 120px;
            height: 120px;
            background: linear-gradient(45deg, #4facfe 0%, #00f2fe 100%);
            border-radius: 50%;
            position: relative;
            animation: bounce 2s ease-in-out infinite;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        .sprite:hover { transform: scale(1.1); }
        .sprite::before {
            content: "üßô‚Äç‚ôÇÔ∏è";
            font-size: 60px;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            animation: wiggle 3s ease-in-out infinite;
            transition: all 0.5s ease;
        }
        .sprite.encouraging::before { content: "üòä"; animation: nod 1s ease-in-out 3; }
        .sprite.celebrating::before { content: "üéâ"; animation: celebrate-face 1s ease-in-out; }
        .sprite.nudging::before { content: "ü§î"; animation: think 2s ease-in-out; }
        .sprite.worried::before { content: "üòü"; animation: shake 0.5s ease-in-out 3; }
        .sprite.excited::before { content: "ü§©"; animation: bounce-face 0.8s ease-in-out 3; }
        .speech-bubble {
            position: absolute;
            bottom: 160px;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            padding: 15px 20px;
            border-radius: 20px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
            max-width: 300px;
            text-align: center;
            opacity: 0;
            transform: translateX(-50%) translateY(20px);
            transition: all 0.5s ease;
            font-size: 14px;
            line-height: 1.4;
            color: #333;
        }
        .speech-bubble::after {
            content: "";
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 10px solid transparent;
            border-right: 10px solid transparent;
            border-top: 10px solid white;
        }
        .speech-bubble.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }
        .btn {
            background: rgba(255, 255, 255, 0.9);
            border: none;
            padding: 10px 15px;
            margin: 5px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s ease;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        .btn:hover {
            background: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-20px); }
            60% { transform: translateY(-10px); }
        }
        @keyframes wiggle {
            0%, 100% { transform: translate(-50%, -50%) rotate(0deg); }
            25% { transform: translate(-50%, -50%) rotate(5deg); }
            75% { transform: translate(-50%, -50%) rotate(-5deg); }
        }
        @keyframes nod {
            0%, 100% { transform: translate(-50%, -50%) translateY(0); }
            50% { transform: translate(-50%, -50%) translateY(-5px); }
        }
        @keyframes celebrate-face {
            0%, 100% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.3); }
        }
        @keyframes think {
            0%, 100% { transform: translate(-50%, -50%) rotate(0deg); }
            25% { transform: translate(-50%, -50%) rotate(-3deg); }
            75% { transform: translate(-50%, -50%) rotate(3deg); }
        }
        @keyframes shake {
            0%, 100% { transform: translate(-50%, -50%) translateX(0); }
            25% { transform: translate(-50%, -50%) translateX(-3px); }
            75% { transform: translate(-50%, -50%) translateX(3px); }
        }
        @keyframes bounce-face {
            0%, 100% { transform: translate(-50%, -50%) translateY(0); }
            50% { transform: translate(-50%, -50%) translateY(-10px); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div style="position: absolute; top: 20px; left: 20px;">
            <button class="btn" onclick="testMessage('encouraging')">Test Encouraging</button>
            <button class="btn" onclick="testMessage('celebrating')">Test Celebration</button>
            <button class="btn" onclick="checkGitHub()">Check GitHub</button>
        </div>
        <div class="speech-bubble" id="speechBubble">Hi! I'm your coding companion!</div>
        <div class="sprite" id="sprite" onclick="randomMessage()"></div>
    </div>
    <script>
        const messages = {
            encouraging: ["You've got this! Keep going!", "Small progress is still progress!", "Every expert was once a beginner!"],
            celebrating: ["Awesome work! You're doing great!", "Nice commit! Keep up the momentum!", "You're on fire today!"],
            nudging: ["Ready to code something cool?", "Your repo is waiting for some love!", "Time to create something amazing!"]
        };
        function showMessage(text, mood = 'encouraging') {
            const bubble = document.getElementById('speechBubble');
            const sprite = document.getElementById('sprite');
            bubble.textContent = text;
            bubble.classList.add('show');
            sprite.classList.remove('encouraging', 'celebrating', 'nudging', 'worried', 'excited');
            sprite.classList.add(mood);
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.rate = 0.9;
                utterance.pitch = 1.2;
                speechSynthesis.speak(utterance);
            }
            setTimeout(() => {
                bubble.classList.remove('show');
                sprite.classList.remove('encouraging', 'celebrating', 'nudging', 'worried', 'excited');
            }, 5000);
        }
        function testMessage(mood) {
            const moodMessages = messages[mood];
            const randomMessage = moodMessages[Math.floor(Math.random() * moodMessages.length)];
            showMessage(randomMessage, mood);
        }
        function randomMessage() {
            const moods = ['encouraging', 'celebrating', 'nudging'];
            const randomMood = moods[Math.floor(Math.random() * moods.length)];
            const moodMessages = messages[randomMood];
            const randomMessage = moodMessages[Math.floor(Math.random() * moodMessages.length)];
            showMessage(randomMessage, randomMood);
        }
        async function checkGitHub() {
            try {
                const response = await fetch('https://api.github.com/repos/Principursa/Tamagitto/commits?per_page=5');
                const commits = await response.json();
                if (commits.length > 0) {
                    const lastCommit = commits[0];
                    const message = lastCommit.commit.message;
                    showMessage(`Great work on: "${message.substring(0, 30)}..."`, 'celebrating');
                } else {
                    showMessage("Ready to make your first commit?", 'nudging');
                }
            } catch (error) {
                showMessage("Having trouble checking GitHub. But I believe in you anyway!", 'encouraging');
            }
        }
        setTimeout(() => showMessage("Hi! I'm your coding companion! Click me or the buttons to test!"), 1000);
    </script>
</body>
</html>
